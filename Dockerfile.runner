FROM ghcr.io/actions/actions-runner:latest@sha256:75599cd393958a52142f489a160123f5b9b21605a40609696deb13d49867d53f

USER root

RUN add-apt-repository -y ppa:dotnet/backports && \
    apt-get update && \
    apt-get install -y --no-install-recommends \
        ca-certificates \
        clang \
        cmake \
        curl \
        dotnet-sdk-9.0 \
        gcc \
        gh \
        git \
        jq \
        lld \
        make \
        mold \
        nodejs \
        npm \
        libssl-dev \
        pkg-config \
        protobuf-compiler \
        sudo \
        wget \
    && rm -rf /var/lib/apt/lists/*

USER runner
